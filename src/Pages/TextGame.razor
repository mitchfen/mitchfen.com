@page "/textgame"
<PageTitle>Mitchell Fenner - Text Game</PageTitle>
Text adventure game
<br/>
<hr />

<p>You are in a @_gameStateObject.PlayerLocation. There is a small mailbox here.</p>
@foreach (var command in _gameStateObject.InputCommands) 
{
    <p>@command.ToString()</p>
}

<form @onsubmit=Save>
    <input id="todo" placeholder="Type a command" @bind="@NewCommand" />
</form>

@code {
    private readonly GameState _gameStateObject = new GameState();
    private string NewCommand = string.Empty;
    private void Save()
    {
        if (string.IsNullOrEmpty(NewCommand)) return;
        _gameStateObject.InputCommands.Add("> " + NewCommand);
        if (NewCommand == "Open the mailbox") 
        {
            _gameStateObject.InputCommands.Add("You open the mailbox. There is a small leaflet inside.");
        }
        else
        {
            _gameStateObject.InputCommands.Add("Invalid command!");
        }
        NewCommand = string.Empty;
    }

}
